<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anoma Shrimp Game</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Landing / Start Screen -->
  <section id="landing" class="landing screen">
    <div class="mage-hero" aria-hidden="true">
      <!-- Simple shadow-mage SVG silhouette -->
      <svg viewBox="0 0 200 160" class="mage-svg">
        <defs>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3.5" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <path filter="url(#glow)" d="M30,140 C70,80 70,60 100,55 C130,60 130,80 170,140 L150,140 L135,120 L100,125 L65,120 L50,140 Z" fill="#0b0b12"/>
        <circle cx="100" cy="52" r="16" fill="#0b0b12"/>
        <path d="M80,40 L120,40 L145,30 L130,52 L70,52 L55,30 Z" fill="#0b0b12"/>
        <path d="M60,90 L140,90" stroke="#aa1111" stroke-width="2" opacity="0.5"/>
      </svg>
    </div>
    <h1 class="headline">Welcome to the <span class="brand">Anoma</span> Shrimp Game</h1>
    <div class="start-panel">
      <label class="level-label">Difficulty:
        <select id="level-select" aria-label="Choose difficulty">
          <!-- 1..20 -->
        </select>
      </label>
      <button id="btn-play" class="btn btn-red">Play â–¶</button>
      <p class="hint">Mascot: Shadow Mage will guide you. Escape the maze as a shrimp!</p>
    </div>
  </section>

  <!-- Game Screen -->
  <section id="game-screen" class="game screen" hidden>
    <header class="hud">
      <div>Time: <span id="hud-time">0.0</span>s</div>
      <div>Level: <span id="hud-level">1</span></div>
      <div>Size: <span id="hud-size">0Ã—0</span></div>
      <audio id="bgm" loop></audio>
      <button id="btn-restart" class="btn small">Restart</button>
      <button id="btn-exit" class="btn small secondary">Exit</button>
    </header>

    <div class="stage-wrap">
      <canvas id="maze" width="800" height="800" aria-label="Maze canvas"></canvas>
    </div>

    <div class="controls">
      <div class="dpad">
        <button class="arrow up" data-dir="up" aria-label="Up">â–²</button>
        <div class="row">
          <button class="arrow left" data-dir="left" aria-label="Left">â—€</button>
          <button class="arrow right" data-dir="right" aria-label="Right">â–¶</button>
        </div>
        <button class="arrow down" data-dir="down" aria-label="Down">â–¼</button>
      </div>
    </div>
  </section>

  <!-- Win Modal -->
  <dialog id="win-modal" class="win-modal">
    <div class="cheer-mages" aria-hidden="true">
      <div class="mage small"></div>
      <div class="mage"></div>
      <div class="mage small"></div>
    </div>
    <h2>ðŸŽ‰ Congratulations!</h2>
    <p>You escaped the maze.</p>
    <p><strong>Time Taken:</strong> <span id="final-time">0.00</span>s</p>
    <div class="modal-actions">
      <button id="btn-play-again" class="btn btn-red">Play Again</button>
      <button id="btn-close-modal" class="btn secondary">Close</button>
    </div>
  </dialog>

  <footer class="foot">
    <p>Tip: Use Arrow Keys / WASD or the onâ€‘screen arrows. Thin red maze, shrimp with glow, background music supported.</p>
  </footer>

  <script src="game.js"></script>
</body>
</html>
