:root{
  --bg:#000;
  --text:#eef2ff;
  --muted:#a9b6df;
  --red:#e11937;
  --line:#ff3040;
}

/* Basic */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial}
.screen{width:100%;max-width:1100px;margin:0 auto;padding:18px}

/* Landing */
#landing{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;text-align:center;position:relative}
.title-wrap{overflow:hidden;width:100%;max-width:900px}
.title{display:inline-block;white-space:nowrap;font-weight:800;font-size:clamp(20px,3.6vw,40px);letter-spacing:.6px;color:var(--text);transform:translateX(-120%);animation:slideLR 9s linear infinite}
.title .brand{ color:var(--red); }
@keyframes slideLR{ 0%{transform:translateX(-120%)} 100%{transform:translateX(120%)} }

.mage{width:min(360px,42vw);max-width:420px;height:auto;object-fit:contain;display:block;margin:0 auto}

/* Controls row on landing */
.controls-row{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}
.level-label{color:var(--muted);font-weight:700}
#levelSelect{padding:10px 12px;border-radius:10px;background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.06)}

/* Buttons */
.btn-play{background:linear-gradient(180deg,var(--red),#bf0f2a);color:white;border:0;padding:12px 20px;border-radius:12px;font-weight:700;cursor:pointer;font-size:1rem;box-shadow:0 6px 20px rgba(225,25,55,0.18)}
.btn-play:active{transform:translateY(1px)}
.btn{padding:8px 14px;border-radius:10px;border:0;cursor:pointer}
.btn.red{background:linear-gradient(180deg,var(--red),#bf0f2a);color:#fff}
.btn.ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.08)}

/* HUD & Stage */
#game-screen{display:none;min-height:100vh;position:relative;padding:12px 10px 140px;box-sizing:border-box}
.hud{display:flex;gap:12px;justify-content:center;align-items:center;margin-bottom:8px;color:var(--muted);font-weight:600}
.hud div{min-width:90px;text-align:center}
.stage{display:flex;align-items:center;justify-content:center}
canvas{background:var(--bg);display:block;border-radius:8px;touch-action:none;outline:0}

/* D-pad centered large (visible only during play) */
.dpad{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;display:grid;gap:10px;grid-template-columns:repeat(3,auto);grid-template-rows:auto auto;justify-items:center;z-index:40;pointer-events:none}
.dpad-btn{width:96px;height:96px;border-radius:14px;border:0;font-size:34px;font-weight:700;background:#111;color:white;box-shadow:0 6px 20px rgba(0,0,0,0.6),0 0 10px 2px rgba(255,48,64,0.15);display:inline-grid;place-items:center;cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:transform .08s,box-shadow .12s;pointer-events:all}
.dpad-btn:active{transform:scale(.97);box-shadow:0 0 30px 6px rgba(255,48,64,0.25)}
.dpad-btn.up{grid-column:2;grid-row:1}
.dpad-btn.left{grid-column:1;grid-row:2}
.dpad-btn.down{grid-column:2;grid-row:2}
.dpad-btn.right{grid-column:3;grid-row:2}

/* Win modal */
.win-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:80;color:var(--text)}
.win-box{background:#0b0f14;border-radius:12px;padding:18px 22px;text-align:center;max-width:520px;width:90%;box-shadow:0 10px 50px rgba(0,0,0,0.6)}
.cheer-row{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:6px}
.cheer-row img{width:72px;height:auto;border-radius:10px;filter:drop-shadow(0 6px 20px rgba(225,25,55,0.18))}
.win-actions{display:flex;gap:8px;justify-content:center;margin-top:10px}

/* Footer */
footer{position:fixed;bottom:8px;left:0;right:0;text-align:center;font-size:14px;z-index:90}
footer a{color:var(--red);text-decoration:none;font-weight:700}
footer a:hover{text-decoration:underline}

@media (max-width:640px){
  .dpad-btn{width:84px;height:84px;font-size:28px}
  .cheer-row img{width:54px}
  .mage{max-width:260px}
}
